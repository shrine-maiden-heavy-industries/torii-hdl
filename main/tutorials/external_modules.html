
<!DOCTYPE html>

<html class="no-js" data-content_root="../" lang="en">
<head><meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="light dark" name="color-scheme"/><meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Including External non-Torii Modules" property="og:title">
<meta content="website" property="og:type">
<meta content="https://torii.shmdn.link/tutorials/external_modules.html" property="og:url"/>
<meta content="Torii" property="og:site_name"/>
<meta content="Occasionally it is desired to include modules that are written in something like Verilog, SystemVerilog, or VHDL in a Torii based design. This is most commonly needed for things like external [IP] ..." property="og:description"/>
<meta content="1146" property="og:image:width"/>
<meta content="600" property="og:image:height"/>
<meta content="https://torii.shmdn.link/_images/social_previews/summary_tutorials_external_modules_b542ec62.png" property="og:image"/>
<meta content="Occasionally it is desired to include modules that are written in something like Verilog, SystemVerilog, or VHDL in a Torii based design. This is most commonly needed for things like external [IP] ..." property="og:image:alt"/>
<meta content="Occasionally it is desired to include modules that are written in something like Verilog, SystemVerilog, or VHDL in a Torii based design. This is most commonly needed for things like external [IP] ..." name="description"/>
<meta content="summary_large_image" name="twitter:card"/>
<link href="../genindex.html" rel="index" title="Index"/><link href="../search.html" rel="search" title="Search"/><link href="../projects.html" rel="next" title="Projects Using Torii"/><link href="index.html" rel="prev" title="Tutorials"/>
<link href="https://torii.shmdn.link/tutorials/external_modules.html" rel="canonical"/>
<!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
<title>Including External non-Torii Modules - Torii 0.8.1.dev387 Documentation</title>
<link href="../_static/pygments.css?v=b86133f3" rel="stylesheet" type="text/css">
<link href="../_static/styles/furo.css?v=580074bf" rel="stylesheet" type="text/css">
<link href="../_static/sphinx-codeautolink.css?v=b2176991" rel="stylesheet" type="text/css">
<link href="../_static/copybutton.css?v=76b2166b" rel="stylesheet" type="text/css">
<link href="../_static/tabs.css?v=4c969af8" rel="stylesheet" type="text/css">
<link href="../_static/styles/furo-extensions.css?v=8dab3a3b" rel="stylesheet" type="text/css"/>
<link href="../_static/css/styles.css?v=176f8baf" rel="stylesheet" type="text/css"/>
<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #2672a8;
  --color-brand-content: #2672a8;
  --color-announcement-background: #ffab87;
  --color-announcement-text: #494453;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #85C2FE;
  --color-brand-content: #85C2FE;
  --color-announcement-background: #ffab87;
  --color-announcement-text: #494453;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #85C2FE;
  --color-brand-content: #85C2FE;
  --color-announcement-background: #ffab87;
  --color-announcement-text: #494453;
  
      }
    }
  }
</style></link></link></link></link></link></meta></meta></meta></head>
<body>
<script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<symbol id="svg-toc" viewbox="0 0 24 24">
<title>Contents</title>
<svg fill="currentColor" stroke="currentColor" stroke-width="0" viewbox="0 0 1024 1024">
<path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"></path>
</svg>
</symbol>
<symbol id="svg-menu" viewbox="0 0 24 24">
<title>Menu</title>
<svg class="feather-menu" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<line x1="3" x2="21" y1="12" y2="12"></line>
<line x1="3" x2="21" y1="6" y2="6"></line>
<line x1="3" x2="21" y1="18" y2="18"></line>
</svg>
</symbol>
<symbol id="svg-arrow-right" viewbox="0 0 24 24">
<title>Expand</title>
<svg class="feather-chevron-right" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<polyline points="9 18 15 12 9 6"></polyline>
</svg>
</symbol>
<symbol id="svg-sun" viewbox="0 0 24 24">
<title>Light mode</title>
<svg class="feather-sun" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="5"></circle>
<line x1="12" x2="12" y1="1" y2="3"></line>
<line x1="12" x2="12" y1="21" y2="23"></line>
<line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line>
<line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line>
<line x1="1" x2="3" y1="12" y2="12"></line>
<line x1="21" x2="23" y1="12" y2="12"></line>
<line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line>
<line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>
</svg>
</symbol>
<symbol id="svg-moon" viewbox="0 0 24 24">
<title>Dark mode</title>
<svg class="icon-tabler-moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
</svg>
</symbol>
<symbol id="svg-sun-with-moon" viewbox="0 0 24 24">
<title>Auto light/dark, in light mode</title>
<svg class="icon-custom-derived-from-feather-sun-and-tabler-moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z" style="opacity: 50%"></path>
<line x1="14.5" x2="14.5" y1="3.25" y2="1.25"></line>
<line x1="14.5" x2="14.5" y1="15.85" y2="17.85"></line>
<line x1="10.044" x2="8.63" y1="5.094" y2="3.68"></line>
<line x1="19" x2="20.414" y1="14.05" y2="15.464"></line>
<line x1="8.2" x2="6.2" y1="9.55" y2="9.55"></line>
<line x1="20.8" x2="22.8" y1="9.55" y2="9.55"></line>
<line x1="10.044" x2="8.63" y1="14.006" y2="15.42"></line>
<line x1="19" x2="20.414" y1="5.05" y2="3.636"></line>
<circle cx="14.5" cy="9.55" r="3.6"></circle>
</svg>
</symbol>
<symbol id="svg-moon-with-sun" viewbox="0 0 24 24">
<title>Auto light/dark, in dark mode</title>
<svg class="icon-custom-derived-from-feather-sun-and-tabler-moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"></path>
<line style="opacity: 50%" x1="18" x2="18" y1="3.705" y2="2.5"></line>
<line style="opacity: 50%" x1="18" x2="18" y1="11.295" y2="12.5"></line>
<line style="opacity: 50%" x1="15.316" x2="14.464" y1="4.816" y2="3.964"></line>
<line style="opacity: 50%" x1="20.711" x2="21.563" y1="10.212" y2="11.063"></line>
<line style="opacity: 50%" x1="14.205" x2="13.001" y1="7.5" y2="7.5"></line>
<line style="opacity: 50%" x1="21.795" x2="23" y1="7.5" y2="7.5"></line>
<line style="opacity: 50%" x1="15.316" x2="14.464" y1="10.184" y2="11.036"></line>
<line style="opacity: 50%" x1="20.711" x2="21.563" y1="4.789" y2="3.937"></line>
<circle cx="18" cy="7.5" r="2.169" style="opacity: 50%"></circle>
</svg>
</symbol>
<symbol id="svg-pencil" viewbox="0 0 24 24">
<svg class="icon-tabler-pencil-code" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"></path>
<path d="M13.5 6.5l4 4"></path>
<path d="M20 21l2 -2l-2 -2"></path>
<path d="M17 17l-2 2l2 2"></path>
</svg>
</symbol>
<symbol id="svg-eye" viewbox="0 0 24 24">
<svg class="icon-tabler-eye-code" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path>
<path d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008"></path>
<path d="M20 21l2 -2l-2 -2"></path>
<path d="M17 17l-2 2l2 2"></path>
</svg>
</symbol>
</svg>
<input class="sidebar-toggle" id="__navigation" name="__navigation" type="checkbox"/>
<input class="sidebar-toggle" id="__toc" name="__toc" type="checkbox"/>
<label class="overlay sidebar-overlay" for="__navigation">
<div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
<div class="visually-hidden">Hide table of contents sidebar</div>
</label>
<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>
<div class="announcement multiver">
<aside class="announcement-content multiver-content">
<strong>
    
    This is the bleeding-edge development documentation, for the stable <code>v0.8.1</code> docs <a href="../../v0.8.1/tutorials/external_modules.html">Click Here</a>.
    
    </strong>
</aside>
</div>
<div class="announcement">
<aside class="announcement-content">
     This documentation is a work in progress, and you can help us <a href="https://github.com/shrine-maiden-heavy-industries/torii-hdl/blob/main/CONTRIBUTING.md">improve it!</a>
</aside>
</div>
<div class="page">
<header class="mobile-header">
<div class="header-left">
<label class="nav-overlay-icon" for="__navigation">
<div class="visually-hidden">Toggle site navigation sidebar</div>
<i class="icon"><svg><use href="#svg-menu"></use></svg></i>
</label>
</div>
<div class="header-center">
<a href="../index.html"><div class="brand">Torii 0.8.1.dev387 documentation</div></a>
</div>
<div class="header-right">
<div class="theme-toggle-container theme-toggle-header">
<button class="theme-toggle">
<div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
<svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
<svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
<svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
<svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
</button>
</div>
<label class="toc-overlay-icon toc-header-icon" for="__toc">
<div class="visually-hidden">Toggle table of contents sidebar</div>
<i class="icon"><svg><use href="#svg-toc"></use></svg></i>
</label>
</div>
</header>
<aside class="sidebar-drawer">
<div class="sidebar-container">
<div class="sidebar-sticky">
<a class="sidebar-brand" href="../index.html">
<span class="sidebar-brand-text">Torii 0.8.1.dev387 Documentation</span>
</a><form action="../search.html" class="sidebar-search-container" method="get" role="search">
<input aria-label="Search" class="sidebar-search" name="q" placeholder="Search"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting_started/index.html">Getting Started</a><input aria-label="Toggle navigation of Getting Started" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="simple">
</ul>
</input></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Tutorials</a><input aria-label="Toggle navigation of Tutorials" checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Including External non-Torii Modules</a></li>
</ul>
</input></li>
<li class="toctree-l1"><a class="reference internal" href="../projects.html">Projects Using Torii</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language, API, and Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/index.html">Language Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/index.html">API Reference</a><input aria-label="Toggle navigation of API Reference" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/backend/index.html">Torii Backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/diagnostics.html">Torii Diagnostics</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/hdl/index.html">Torii HDL Reference</a><input aria-label="Toggle navigation of Torii HDL Reference" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/hdl/ast.html">Abstract Syntax Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/hdl/cd.html">Clock Domain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/hdl/dsl.html">DSL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/hdl/ir.html">IR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/hdl/mem.html">Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/hdl/rec.html">Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/hdl/xfrm.html">XFRM</a></li>
</ul>
</input></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/utility/index.html">Torii Utility Library</a><input aria-label="Toggle navigation of Torii Utility Library" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/utility/directories.html">Filesystem Paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/utility/string.html">String Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/utility/tracer.html">Tracer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/utility/units.html">Unit Helpers</a></li>
</ul>
</input></li>
<li class="toctree-l2"><a class="reference internal" href="../api/tools.html">Torii Tool Interface</a></li>
</ul>
</input></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../library/index.html">Standard Library</a><input aria-label="Toggle navigation of Standard Library" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../library/bus/index.html">Busses</a><input aria-label="Toggle navigation of Busses" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../library/bus/wishbone.html">Wishbone Bus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../library/coding/index.html">Encoding and Decoding</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../library/mem/index.html">Memory</a><input aria-label="Toggle navigation of Memory" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../library/mem/map.html">Memory Map</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../library/cdc.html">Clock Domain Crossing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../library/fifo.html">First-in First-out Queues</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../library/soc/index.html">System on Chip</a><input aria-label="Toggle navigation of System on Chip" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../library/soc/event.html">Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="../library/soc/periph.html">Peripherals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../library/soc/csr/index.html">CSRs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../library/stdio/index.html">Industry Standard I/O</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../library/stream/index.html">Stream Library</a><input aria-label="Toggle navigation of Stream Library" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../library/stream/simple.html">Simple Streams</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../library/vendor/index.html">FPGA Vendor Modules</a><input aria-label="Toggle navigation of FPGA Vendor Modules" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../library/vendor/lattice/index.html">Lattice FPGA Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../library/vendor/xilinx/index.html">Xilinx FPGA Modules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../platforms/index.html">Platform Integration</a><input aria-label="Toggle navigation of Platform Integration" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../platforms/fpga/index.html">Torii FPGA Platforms</a><input aria-label="Toggle navigation of Torii FPGA Platforms" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../platforms/fpga/gowin.html">Gowin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/fpga/altera.html">Altera</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/fpga/lattice-ecp5.html">Lattice ECP5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/fpga/lattice-ice40.html">Lattice iCE40</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/fpga/lattice-machxo-2-3l.html">Lattice MachXO2 and MachXO3L</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/fpga/quicklogic.html">Quicklogic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/fpga/xilinx.html">Xilinx</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../platforms/resources/index.html">Platform Resources</a><input aria-label="Toggle navigation of Platform Resources" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../platforms/resources/display.html">Display Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/resources/extensions.html">Extension Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/resources/interface.html">IO Interface Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/resources/memory.html">Memory Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/resources/user.html">User-interaction Resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../testing/index.html">Testing and Verification</a><input aria-label="Toggle navigation of Testing and Verification" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../testing/simulation.html">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/formal.html">Formal Verification</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../migrations/index.html">Version Migration Guides</a><input aria-label="Toggle navigation of Version Migration Guides" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../migrations/v0_to_v1.html">Torii v0.X to v1.0 Migration Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../supplementary_libraries.html">Supplementary Libraries</a></li>
<li class="toctree-l1"><a class="reference external" href="https://torii-boards.shmdn.link/">Torii Boards</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/shrine-maiden-heavy-industries/torii-hdl/">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/shrine-maiden-heavy-industries/torii-hdl/blob/main/CONTRIBUTING.md">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</div>
<div class="sidebar-tree">
<p class="caption" role="heading">
<span class="caption-text">Versions</span>
</p>
<ul>
<li class="toctree-l1"><a class="reference" href="../../v0.8.1/tutorials/external_modules.html">v0.8.1</a></li>
<li class="toctree-l1"><a class="reference" href="../../v0.8.0/tutorials/external_modules.html">v0.8.0</a></li>
</ul>
</div>
</div>
</div>
</div>
</aside>
<div class="main">
<div class="content">
<div class="article-container">
<a class="back-to-top muted-link" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
</svg>
<span>Back to top</span>
</a>
<div class="content-icon-container">
<div class="view-this-page">
<a class="muted-link" href="https://github.com/shrine-maiden-heavy-industries/torii-hdl/blob/main/docs/tutorials/external_modules.md?plain=true" title="View this page">
<svg><use href="#svg-eye"></use></svg>
<span class="visually-hidden">View this page</span>
</a>
</div><div class="edit-this-page">
<a class="muted-link" href="https://github.com/shrine-maiden-heavy-industries/torii-hdl/edit/main/docs/tutorials/external_modules.md" rel="edit" title="Edit this page">
<svg><use href="#svg-pencil"></use></svg>
<span class="visually-hidden">Edit this page</span>
</a>
</div><div class="theme-toggle-container theme-toggle-content">
<button class="theme-toggle">
<div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
<svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
<svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
<svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
<svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
</button>
</div>
<label class="toc-overlay-icon toc-content-icon" for="__toc">
<div class="visually-hidden">Toggle table of contents sidebar</div>
<i class="icon"><svg><use href="#svg-toc"></use></svg></i>
</label>
</div>
<article id="furo-main-content" role="main">
<section id="including-external-non-torii-modules">
<h1>Including External non-Torii Modules<a class="headerlink" href="#including-external-non-torii-modules" title="Link to this heading">¶</a></h1>
<p>Occasionally it is desired to include modules that are written in something like <a class="reference external" href="https://ieeexplore.ieee.org/document/1620780" rel="noreferer noopener" target="_blank">Verilog</a>, <a class="reference external" href="https://ieeexplore.ieee.org/document/8299595" rel="noreferer noopener" target="_blank">SystemVerilog</a>, or <a class="reference external" href="https://ieeexplore.ieee.org/document/8938196" rel="noreferer noopener" target="_blank">VHDL</a> in a Torii based design. This is most commonly needed for things like external [IP] from other sources such as FPGA primitives or designed generated from another HDL such as <a class="reference external" href="https://clash-lang.org/" rel="noreferer noopener" target="_blank">Clash</a>, <a class="reference external" href="https://github.com/SpinalHDL/SpinalHDL" rel="noreferer noopener" target="_blank">SpinalHDL</a>, or <a class="reference external" href="https://www.chisel-lang.org/" rel="noreferer noopener" target="_blank">Chisel</a>, as they are not directly interoperable with Torii.</p>
<p>Luckily, this is fairly easy to do with the Torii <a class="reference internal" href="../api/hdl/ir.html#torii.hdl.ir.Instance" title="torii.hdl.ir.Instance"><code class="xref py py-class docutils literal notranslate"><span class="pre">torii.hdl.ir.Instance</span></code></a>, it allows you to construct an instance of an arbitrary module, defining all of the inputs, outputs, and properties.</p>
<section id="torii-instance">
<h2>Torii <code class="docutils literal notranslate"><span class="pre">Instance</span></code><a class="headerlink" href="#torii-instance" title="Link to this heading">¶</a></h2>
<p>A Torii instance takes the name of the module or primitive you wish to instantiate, and lets you define the parameters, ports, and attributes, most of which can be directly hooked up with other Torii types such as <a class="reference internal" href="../api/hdl/ast.html#torii.hdl.ast.Signal" title="torii.hdl.ast.Signal"><code class="xref py py-class docutils literal notranslate"><span class="pre">torii.hdl.ast.Signal</span></code></a>.</p>
<p>An example of an <code class="docutils literal notranslate"><span class="pre">Instance</span></code> that instantiates a module called <code class="docutils literal notranslate"><span class="pre">MyInverter</span></code> (who’s implementation is not important) which has 1 input port named <code class="docutils literal notranslate"><span class="pre">src</span></code> and 1 output port named <code class="docutils literal notranslate"><span class="pre">dst</span></code> would be as follows.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><a class="sphinx-codeautolink-a" href="../api/hdl/ir.html#torii.hdl.ir.Instance" title="torii.hdl.ir.Instance"><span class="n">Instance</span></a><span class="p">(</span>
    <span class="s1">'MyInverter'</span><span class="p">,</span>
    <span class="n">i_src</span> <span class="o">=</span> <span class="n">input_signal</span><span class="p">,</span>
    <span class="n">o_dst</span> <span class="o">=</span> <span class="n">output_signal</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The prefix on the front of the port name is important, as it tells Torii what that parameter of the instance is, and the port name itself must match the port name of the module or cell you’re instantiating. The accepted prefixes and corresponding types are listed in the table below.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Prefix</p></th>
<th class="head"><p>Corresponding Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">a_</span></code></p></td>
<td><p>Attribute</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">p_</span></code></p></td>
<td><p>Parameter</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">i_</span></code></p></td>
<td><p>Input Port/Signal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">o_</span></code></p></td>
<td><p>Output Port/Signal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">io_</span></code></p></td>
<td><p>Bi-directional Port/Signal</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="including-external-sources">
<h2>Including External Sources<a class="headerlink" href="#including-external-sources" title="Link to this heading">¶</a></h2>
<p>When you are using a generated or a raw <a class="reference external" href="https://ieeexplore.ieee.org/document/1620780" rel="noreferer noopener" target="_blank">Verilog</a> module, then you need to tell torii to include it so it can properly synthesize, you do this with the <code class="xref py py-meth docutils literal notranslate"><span class="pre">torii.build.plat.Platform.add_file()</span></code> method, it takes the name and contents of a file to add to the sources collection which is then used in the synthesis step.</p>
<p>An example Torii elaboratable for a <a class="reference external" href="https://ieeexplore.ieee.org/document/1620780" rel="noreferer noopener" target="_blank">Verilog</a>  module would look like this:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><a class="sphinx-codeautolink-a" href="https://docs.python.org/3/library/pathlib.html#module-pathlib" title="pathlib"><span class="nn">pathlib</span></a><span class="w">   </span><span class="kn">import</span> <a class="sphinx-codeautolink-a" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="pathlib.Path"><span class="n">Path</span></a>
<span class="kn">from</span><span class="w"> </span><span class="nn">torii.hdl</span><span class="w"> </span><span class="kn">import</span> <a class="sphinx-codeautolink-a" href="../api/hdl/ir.html#torii.hdl.ir.Elaboratable" title="torii.hdl.ir.Elaboratable"><span class="n">Elaboratable</span></a><span class="p">,</span> <a class="sphinx-codeautolink-a" href="../api/hdl/dsl.html#torii.hdl.dsl.Module" title="torii.hdl.dsl.Module"><span class="n">Module</span></a><span class="p">,</span> <a class="sphinx-codeautolink-a" href="../api/hdl/ast.html#torii.hdl.ast.Signal" title="torii.hdl.ast.Signal"><span class="n">Signal</span></a><span class="p">,</span> <a class="sphinx-codeautolink-a" href="../api/hdl/ir.html#torii.hdl.ir.Instance" title="torii.hdl.ir.Instance"><span class="n">Instance</span></a>

<span class="k">class</span><span class="w"> </span><span class="nc">MyInverter</span><span class="p">(</span><a class="sphinx-codeautolink-a" href="../api/hdl/ir.html#torii.hdl.ir.Elaboratable" title="torii.hdl.ir.Elaboratable"><span class="n">Elaboratable</span></a><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="../api/hdl/ast.html#torii.hdl.ast.Signal" title="torii.hdl.ast.Signal"><span class="n">Signal</span></a><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="../api/hdl/ast.html#torii.hdl.ast.Signal" title="torii.hdl.ast.Signal"><span class="n">Signal</span></a><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extern_module</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="pathlib.Path"><span class="n">Path</span></a><span class="p">(</span><span class="s1">'./my_inverter.v'</span><span class="p">)</span><span class="o">.</span><a class="sphinx-codeautolink-a" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.resolve" title="pathlib.Path.resolve"><span class="n">resolve</span></a><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">elaborate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span> <span class="o">-&gt;</span> <a class="sphinx-codeautolink-a" href="../api/hdl/dsl.html#torii.hdl.dsl.Module" title="torii.hdl.dsl.Module"><span class="n">Module</span></a><span class="p">:</span>
        <span class="c1"># Add the file to the platform</span>
        <span class="k">if</span> <span class="n">platform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">extern_module</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">platform</span><span class="o">.</span><span class="n">add_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extern_module</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

        <a class="sphinx-codeautolink-a" href="../api/hdl/dsl.html#torii.hdl.dsl.Module" title="torii.hdl.dsl.Module"><span class="n">m</span></a> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="../api/hdl/dsl.html#torii.hdl.dsl.Module" title="torii.hdl.dsl.Module"><span class="n">Module</span></a><span class="p">()</span>

        <span class="c1"># Add the</span>
        <span class="n">m</span><span class="o">.</span><span class="n">submodules</span> <span class="o">+=</span> <a class="sphinx-codeautolink-a" href="../api/hdl/ir.html#torii.hdl.ir.Instance" title="torii.hdl.ir.Instance"><span class="n">Instance</span></a><span class="p">(</span>
            <span class="s1">'MyInverter'</span><span class="p">,</span>
            <span class="n">i_src</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input</span><span class="p">,</span>
            <span class="n">i_dst</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
        <span class="p">)</span>

        <span class="k">return</span> <a class="sphinx-codeautolink-a" href="../api/hdl/dsl.html#torii.hdl.dsl.Module" title="torii.hdl.dsl.Module"><span class="n">m</span></a>
</pre></div>
</div>
<p>It’s not necessary to pass the file in within the elaborate of the module itself, however keeping the wrapper elaboratable coupled to the dependant HDL source file is recommended.</p>
</section>
</section>
<script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>
</article>
</div>
<footer>
<div class="related-pages">
<a class="next-page" href="../projects.html">
<div class="page-info">
<div class="context">
<span>Next</span>
</div>
<div class="title">Projects Using Torii</div>
</div>
<svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
</a>
<a class="prev-page" href="index.html">
<svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
<div class="page-info">
<div class="context">
<span>Previous</span>
</div>
<div class="title">Tutorials</div>
</div>
</a>
</div>
<div class="bottom-of-page">
<div class="left-details">
<div class="copyright">
                Copyright © 2025 Shrine Maiden Heavy Industries and contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
</div>
<div class="right-details">
</div>
</div>
</footer>
</div>
<aside class="toc-drawer">
<div class="toc-sticky toc-scroll">
<div class="toc-title-container">
<span class="toc-title">
            On this page
          </span>
</div>
<div class="toc-tree-container">
<div class="toc-tree">
<ul>
<li><a class="reference internal" href="#">Including External non-Torii Modules</a><ul>
<li><a class="reference internal" href="#torii-instance">Torii <code class="docutils literal notranslate"><span class="pre">Instance</span></code></a></li>
<li><a class="reference internal" href="#including-external-sources">Including External Sources</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</aside>
</div>
</div><script src="../_static/documentation_options.js?v=34c6cdce"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="../_static/scripts/furo.js?v=46bd48cc"></script>
<script src="../_static/clipboard.min.js?v=a7894cd8"></script>
<script src="../_static/copybutton.js?v=f281be69"></script>
<script src="../_static/tabs.js?v=3ee01567"></script>
<script src="../_static/wavedrom.skin.js"></script>
<script src="../_static/wavedrom.min.js"></script>
<script src="../_static/js/wavedrom.min.js?v=912bf3a3"></script>
<script src="../_static/js/wavedrom.skin.js?v=be5c2381"></script>
</body>
</html>